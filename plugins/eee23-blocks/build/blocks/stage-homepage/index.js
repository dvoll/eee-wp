(()=>{"use strict";var e,a={567:()=>{const e=window.wp.blocks,a=window.React,l=window.wp.blockEditor,o=window.wp.components,t=window.wp.i18n,i=JSON.parse('{"u2":"eee23-blocks/stage-homepage"}');(0,e.registerBlockType)(i.u2,{edit:({attributes:e,setAttributes:i,isSelected:r,className:n})=>{const{mediaId:s,mediaSrc:c,mediaMime:d,mediaPoster:m,mediaAlt:u,focalPointValueX:p,focalPointValueY:g,style:v}=e,b=(0,a.useCallback)((e=>{var a,l;i({focalPointValueX:null!==(a=e.x)&&void 0!==a?a:.5,focalPointValueY:null!==(l=e.y)&&void 0!==l?l:.5})}),[i]),k=(0,a.useCallback)((e=>{var a,l;e&&e.url?"video/mp4"!==e.mime?i({mediaMime:"image",mediaSrc:null!==(a=e.sizes.large?.url)&&void 0!==a?a:e.url,mediaId:e.id,mediaPoster:void 0,mediaAlt:null!==(l=e.alt)&&void 0!==l?l:"",focalPointValueX:void 0,focalPointValueY:void 0}):i({mediaMime:"video/mp4",mediaSrc:e.url,mediaId:e.id,mediaPoster:e.image?.src!==e.icon?e.image?.src:void 0,mediaAlt:void 0,focalPointValueX:void 0,focalPointValueY:void 0}):i({mediaMime:void 0,mediaSrc:void 0,mediaId:void 0,mediaPoster:void 0,mediaAlt:void 0,focalPointValueX:void 0,focalPointValueY:void 0})}),[i]),h=(0,a.useCallback)((e=>{i({mediaAlt:e})}),[i]),f=({x:e,y:a}={x:.5,y:.5})=>`${Math.round(100*e)}% ${Math.round(100*a)}%`,w=(0,l.useBlockProps)({style:{background:"transparent"},className:n+" alignfull"}),y=(0,l.useInnerBlocksProps)({className:"wp-block-eee23-blocks-stage-homepage__content"},{template:[["core/heading",{level:1,placeholder:"Titel der Seite"}],["core/paragraph",{placeholder:"Untertitel",style:{typography:{fontSize:"var(--wp--preset--font-size--small)",lineHeight:1.2}}}]]}),P=(0,a.useRef)();return(0,a.useEffect)((()=>{P.current&&P.current.load()}),[m]),(0,a.createElement)(a.Fragment,null,(0,a.createElement)(l.InspectorControls,null,(0,a.createElement)(o.PanelBody,{title:"Bild/Video-Einstellungen"},m||"image"===d&&c?(0,a.createElement)(o.FocalPointPicker,{url:"image"===d?c:m,onChange:b,value:{x:null!=p?p:.5,y:null!=g?g:.5}}):null,(0,a.createElement)(o.BaseControl,null,(0,a.createElement)(l.MediaUpload,{onSelect:k,allowedTypes:["video/mp4","image"],value:s,render:({open:e})=>(0,a.createElement)(o.Button,{variant:"primary",onClick:e},s?"Bild/Video ändern":"Bild/Video auswählen")})),"image"===d&&(0,a.createElement)(o.TextareaControl,{label:(0,t.__)("Alternative text"),value:null!=u?u:"",onChange:h,help:(0,a.createElement)(a.Fragment,null,(0,a.createElement)(o.ExternalLink,{href:"https://www.w3.org/WAI/tutorials/images/decision-tree"},(0,t.__)("Describe the purpose of the image.")),(0,a.createElement)("br",null),(0,t.__)("Leave empty if decorative.")),__nextHasNoMarginBottom:!0}))),(0,a.createElement)("div",{...w},(0,a.createElement)("div",{...y}),(0,a.createElement)("div",{className:"wp-block-eee23-blocks-stage-homepage__media-container",style:{"--stage-background-color":v.color.background}},c&&"image"===d&&(0,a.createElement)("img",{className:"wp-block-eee23-blocks-stage-homepage__media",alt:"",src:c,style:{objectPosition:f({x:p,y:g})}}),c&&"video/mp4"===d&&(0,a.createElement)(o.Disabled,{style:{height:"100%"}},(0,a.createElement)("video",{className:"wp-block-eee23-blocks-stage-homepage__media",src:c,style:{objectPosition:f({x:p,y:g})},poster:m,ref:P})))))},save:function({attributes:e}){const{mediaSrc:o,mediaMime:t,mediaPoster:i,mediaAlt:r,focalPointValueX:n,focalPointValueY:s,style:c}=e,d=l.useBlockProps.save({style:{background:"transparent"},className:["alignfull"].join(" ")}),m=l.useInnerBlocksProps.save({className:"wp-block-eee23-blocks-stage-homepage__content"}),u=({x:e=.5,y:a=.5})=>`${Math.round(100*e)}% ${Math.round(100*a)}%`;return(0,a.createElement)("div",{...d},o&&(0,a.createElement)("div",{className:"wp-block-eee23-blocks-stage-homepage__media-container",style:{"--stage-background-color":c.color.background}},o&&"image"===t&&(0,a.createElement)("img",{className:"wp-block-eee23-blocks-stage-homepage__media wp-block-eee23-blocks-stage-homepage__image",alt:null!=r?r:"",src:o,style:{objectPosition:u({x:n,y:s})}}),o&&"video/mp4"===t&&(0,a.createElement)("video",{className:"wp-block-eee23-blocks-stage-homepage__media wp-block-eee23-blocks-stage-homepage__video",src:o,autoPlay:!0,muted:!0,loop:!0,preload:"auto",poster:i,style:{objectPosition:u({x:n,y:s})}})),(0,a.createElement)("div",{...m}))}})}},l={};function o(e){var t=l[e];if(void 0!==t)return t.exports;var i=l[e]={exports:{}};return a[e](i,i.exports,o),i.exports}o.m=a,e=[],o.O=(a,l,t,i)=>{if(!l){var r=1/0;for(d=0;d<e.length;d++){for(var[l,t,i]=e[d],n=!0,s=0;s<l.length;s++)(!1&i||r>=i)&&Object.keys(o.O).every((e=>o.O[e](l[s])))?l.splice(s--,1):(n=!1,i<r&&(r=i));if(n){e.splice(d--,1);var c=t();void 0!==c&&(a=c)}}return a}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[l,t,i]},o.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a),(()=>{var e={114:0,973:0};o.O.j=a=>0===e[a];var a=(a,l)=>{var t,i,[r,n,s]=l,c=0;if(r.some((a=>0!==e[a]))){for(t in n)o.o(n,t)&&(o.m[t]=n[t]);if(s)var d=s(o)}for(a&&a(l);c<r.length;c++)i=r[c],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return o.O(d)},l=globalThis.webpackChunkeee23_blocks=globalThis.webpackChunkeee23_blocks||[];l.forEach(a.bind(null,0)),l.push=a.bind(null,l.push.bind(l))})();var t=o.O(void 0,[973],(()=>o(567)));t=o.O(t)})();